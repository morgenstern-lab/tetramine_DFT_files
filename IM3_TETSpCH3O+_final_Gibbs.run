#!/bin/bash

##########
#update the variables below as needed
##########

JOB=TETSpCH3O+_final_Gibbs #this is the name of your job
		#make sure there are no spaces in the name
CURDIR=`'pwd'`  #do not change this line
TIME='22:00:00' #run time (hh:mm:ss) - 2 hours
NODES=1		#total number of nodes
TASKS=64        #total number of mpi tasks requested
		#should be 64 tasks per node

#########
#Do not change this next section!
#########
cat > $JOB.sbatch << EOF_ALL
#!/bin/sh

#SBATCH -J $JOB  	         # job name
#SBATCH -o $CURDIR/$JOB.out
#SBATCH -e $CURDIR/$JOB.err
#SBATCH -N $NODES                # total number of nodes 
#SBATCH -n $TASKS                # total number of mpi tasks requested
#SBATCH -t $TIME                 # run time (hh:mm:ss) - 1.5 hours

#!/bin/sh

AMS_JOBNAME=$JOB $AMSBIN/ams << eor

########
#replace the lines below with your adf input file
########

Task SinglePoint
Properties
    NormalModes Yes
End
System
    Atoms
        O 2.452529149870222 -0.7004613182831789 -0.3074842494437569 
        O 1.718678973375623 0.73384275712161 1.631942664803381 
        S 1.453743575312726 0.04344567086654495 0.4047621899812857 
        N 0.7964275754490064 1.138817927056969 -0.6956511003351601 
        N 0.08627093052072261 -0.9538275589639815 0.6946460161711883 
        N -1.434842874204378 1.679936613445378 0.2118218290290398 
        S -2.179752179122846 0.7048596183895266 -0.8959368722313286 
        N -0.9776301758337077 -0.3155521445159821 -1.411813534136687 
        O -3.139036765494684 -0.1394749867063758 -0.1248952449644604 
        O -2.722407734536866 1.400762125988608 -2.020608036767327 
        C -0.05823244115764017 2.181720756194464 -0.1691212424346883 
        C -0.5810744099205215 -1.432560893205027 -0.547983810500684 
        C -2.44245098942944 -0.02252421417389437 2.971077940489943 
        C 0.2057170115952539 0.4685722046552079 -1.858558897114958 
        H 0.3786529289396674 2.592015278454358 0.7358797054155287 
        H -0.131627094871151 2.961601401784017 -0.9282229343637783 
        H 0.06850670068076239 -2.063142381067254 -1.158366823357885 
        H -1.459432513225263 -2.003268812959916 -0.2609418953805654 
        H -2.574853528424887 0.0007828075822231015 4.055295138250138 
        H -1.443019288360168 -0.05228094580261281 2.521201801517833 
        H -0.09612374697424532 1.210483841222788 -2.594136993734174 
        H 0.9204642895667945 -0.2145511614351917 -2.308224275227558 
        H 0.4239725212103587 -1.754302598836102 1.231978752272007 
        O -3.450133778251735 -0.01930355821093525 2.263855862245283 
        H -3.261903035735423 -0.04351334517392031 1.095411167582577 
        O -3.018778763019666 3.974856395990086 0.7230395638858461 
        H -3.086781404905738 4.565903145984938 1.485481944824323 
        H -2.046020527341109 2.494567882075383 0.4090530543988519 
        H -3.508247842358343 4.414602673712424 0.01349212031156208 
    End
    Charge 1.0
    BondOrders
         1 3 2.0
         2 3 2.0
         3 4 1.0
         3 5 1.0
         4 11 1.0
         4 14 1.0
         5 12 1.0
         5 23 1.0
         6 7 1.0
         6 11 1.0
         6 28 1.0
         7 8 1.0
         7 9 2.0
         7 10 2.0
         8 12 1.0
         8 14 1.0
         11 15 1.0
         11 16 1.0
         12 17 1.0
         12 18 1.0
         13 19 1.0
         13 20 1.0
         13 24 1.0
         14 21 1.0
         14 22 1.0
         24 25 1.0
         26 27 1.0
         26 29 1.0
    End
End

Engine ADF
    Basis
        Type TZP
        Core None
    End
    XC
        Hybrid B3LYP
    End
    Relativity
        Level None
    End
EndEngine
eor


########
#do not change the rest of the file!
########

mv $JOB.results/ams.log $JOB.logfile
rm slurm-*.out

EOF_ALL

sbatch < $JOB.sbatch
